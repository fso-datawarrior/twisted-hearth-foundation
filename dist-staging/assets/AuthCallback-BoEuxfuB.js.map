{"version":3,"file":"AuthCallback-BoEuxfuB.js","sources":["../../node_modules/lucide-react/dist/esm/icons/circle-alert.js","../../node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../node_modules/lucide-react/dist/esm/icons/loader-circle.js","../../src/components/ui/card.tsx","../../src/pages/AuthCallback.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleAlert = createLucideIcon(\"CircleAlert\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { CircleAlert as default };\n//# sourceMappingURL=circle-alert.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleCheckBig = createLucideIcon(\"CircleCheckBig\", [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LoaderCircle = createLucideIcon(\"LoaderCircle\", [\n  [\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]\n]);\n\nexport { LoaderCircle as default };\n//# sourceMappingURL=loader-circle.js.map\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"rounded-lg border bg-card text-card-foreground shadow-sm\", className)} {...props} />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\n  ),\n);\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3 ref={ref} className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)} {...props} />\n  ),\n);\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n  ),\n);\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />,\n);\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />\n  ),\n);\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n","import { useEffect, useState } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useAuth } from \"@/lib/auth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { AlertCircle, CheckCircle, Loader2, Mail } from \"lucide-react\";\n\nexport default function AuthCallback() {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const { user, loading } = useAuth();\n  const { toast } = useToast();\n  const [status, setStatus] = useState<'checking' | 'success' | 'error' | 'expired'>('checking');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isResending, setIsResending] = useState(false);\n\n  useEffect(() => {\n    const handleAuthCallback = async () => {\n      try {\n        console.log('ðŸ” AuthCallback: Starting authentication process...');\n        console.log('Current URL:', window.location.href);\n        \n        // Parse URL hash parameters (Supabase uses hash fragments, not search params)\n        const hashParams = new URLSearchParams(window.location.hash.substring(1));\n        const urlSearchParams = new URLSearchParams(window.location.search);\n        \n        console.log('Hash params:', Object.fromEntries(hashParams.entries()));\n        console.log('Search params:', Object.fromEntries(urlSearchParams.entries()));\n        \n        // Check if we have an error in the URL\n        const error = hashParams.get('error') || urlSearchParams.get('error');\n        const errorDescription = hashParams.get('error_description') || urlSearchParams.get('error_description');\n        \n        if (error) {\n          console.log('ðŸš¨ Auth callback error detected:', error, errorDescription);\n          \n          // Clear URL hash immediately to prevent reprocessing\n          window.history.replaceState({}, document.title, window.location.pathname);\n          \n          if (error === 'access_denied' && (hashParams.get('error_code') === 'otp_expired' || urlSearchParams.get('error_code') === 'otp_expired')) {\n            setStatus('expired');\n            setErrorMessage('The magic link has expired or been used already.');\n          } else {\n            setStatus('error');\n            setErrorMessage(errorDescription || 'Authentication failed. Please try again.');\n          }\n          return;\n        }\n\n        // Check if we have auth tokens in the URL (hash fragments)\n        const accessToken = hashParams.get('access_token');\n        const refreshToken = hashParams.get('refresh_token');\n        const tokenType = hashParams.get('token_type');\n        const expiresIn = hashParams.get('expires_in');\n        \n        console.log('ðŸ”‘ Tokens found:', {\n          hasAccessToken: !!accessToken,\n          hasRefreshToken: !!refreshToken,\n          tokenType,\n          expiresIn\n        });\n        \n        if (accessToken && refreshToken) {\n          console.log('ðŸ”„ Setting session with tokens...');\n          \n          // Clear URL hash immediately to prevent token exposure\n          window.history.replaceState({}, document.title, window.location.pathname);\n          \n          try {\n            // Set the session from the URL tokens\n            const { data, error: sessionError } = await supabase.auth.setSession({\n              access_token: accessToken,\n              refresh_token: refreshToken,\n            });\n            \n            console.log('ðŸ“‹ Session result:', {\n              hasData: !!data,\n              hasUser: !!data?.user,\n              hasSession: !!data?.session,\n              error: sessionError\n            });\n            \n            if (sessionError) {\n              console.error('âŒ Error setting session:', sessionError);\n              setStatus('error');\n              setErrorMessage('Failed to authenticate. Please try again.');\n              \n              // Defensive fallback - try to get session from storage\n              setTimeout(async () => {\n                console.log('ðŸ”„ Attempting defensive fallback...');\n                const { data: fallbackData } = await supabase.auth.getSession();\n                if (fallbackData?.session?.user) {\n                  console.log('âœ… Fallback successful:', fallbackData.session.user.email);\n                  setStatus('success');\n                  navigate('/discussion', { replace: true });\n                }\n              }, 1000);\n              \n            } else if (data?.user) {\n              console.log('âœ… Successfully authenticated user:', data.user.email);\n              setStatus('success');\n              toast({\n                title: \"Welcome back! ðŸŽ‰\",\n                description: `Successfully signed in as ${data.user.email}`,\n                duration: 5000,\n              });\n              \n              // Redirect to discussion page after successful auth\n              setTimeout(() => {\n                console.log('ðŸ”„ Redirecting to discussion...');\n                navigate('/discussion', { replace: true });\n              }, 2000);\n            } else {\n              console.warn('âš ï¸ Session set but no user data received');\n              setStatus('error');\n              setErrorMessage('Authentication completed but user data is missing. Please try again.');\n            }\n          } catch (sessionError) {\n            console.error('ðŸ’¥ Exception during session setting:', sessionError);\n            setStatus('error');\n            setErrorMessage('Something went wrong during authentication. Please try again.');\n          }\n        } else {\n          console.log('ðŸš« No tokens found in URL');\n          // Clear URL hash anyway\n          window.history.replaceState({}, document.title, window.location.pathname);\n          \n          setStatus('error');\n          setErrorMessage('Invalid authentication link. Please request a new magic link.');\n        }\n      } catch (outerError) {\n        console.error('ðŸ’¥ Critical error in AuthCallback:', outerError);\n        // Clear URL hash to prevent loops\n        window.history.replaceState({}, document.title, window.location.pathname);\n        setStatus('error');\n        setErrorMessage('A critical error occurred. Please try again.');\n      }\n    };\n\n    if (!loading) {\n      console.log('ðŸ” Auth loading complete. User status:', !!user);\n      \n      if (user) {\n        // User is already authenticated, redirect them\n        console.log('âœ… User already authenticated:', user.email);\n        toast({\n          title: \"Already signed in\",\n          description: \"You're already authenticated!\",\n          duration: 3000,\n        });\n        navigate('/discussion', { replace: true });\n      } else {\n        console.log('ðŸ”„ No authenticated user, processing callback...');\n        handleAuthCallback();\n      }\n    } else {\n      console.log('â³ Auth still loading...');\n    }\n  }, [searchParams, navigate, user, loading, toast]);\n\n  const handleResendLink = async () => {\n    const email = prompt('Please enter your email address to resend the magic link:');\n    if (!email) return;\n\n    setIsResending(true);\n    try {\n      const { error } = await supabase.auth.signInWithOtp({\n        email: email.trim().toLowerCase(),\n        options: {\n          emailRedirectTo: `${window.location.origin}/auth`\n        }\n      });\n\n      if (error) {\n        toast({\n          title: \"Failed to send magic link\",\n          description: error.message,\n          variant: \"destructive\",\n          duration: 6000,\n        });\n      } else {\n        toast({\n          title: \"Magic link sent! âœ¨\",\n          description: \"Check your email and click the new link to sign in.\",\n          duration: 8000,\n        });\n      }\n    } catch (error) {\n      console.error('Error resending magic link:', error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to resend magic link. Please try again.\",\n        variant: \"destructive\",\n        duration: 6000,\n      });\n    } finally {\n      setIsResending(false);\n    }\n  };\n\n  if (loading || status === 'checking') {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n        <Card className=\"w-full max-w-md\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex flex-col items-center space-y-4\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-accent-gold\" />\n              <div className=\"text-center\">\n                <h2 className=\"font-heading text-xl mb-2\">Signing you in...</h2>\n                <p className=\"font-body text-muted-foreground\">\n                  Please wait while we authenticate your magic link.\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (status === 'success') {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n        <Card className=\"w-full max-w-md\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex flex-col items-center space-y-4\">\n              <CheckCircle className=\"h-12 w-12 text-green-500\" />\n              <div className=\"text-center\">\n                <h2 className=\"font-heading text-xl mb-2 text-accent-gold\">\n                  Welcome to the Bash!\n                </h2>\n                <p className=\"font-body text-muted-foreground\">\n                  You're successfully signed in. Redirecting you now...\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <div className=\"flex items-center space-x-2\">\n            <AlertCircle className=\"h-6 w-6 text-destructive\" />\n            <CardTitle className=\"font-heading text-xl\">\n              {status === 'expired' ? 'Link Expired' : 'Authentication Failed'}\n            </CardTitle>\n          </div>\n          <CardDescription className=\"font-body\">\n            {errorMessage}\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex flex-col space-y-3\">\n            <Button\n              onClick={handleResendLink}\n              disabled={isResending}\n              className=\"w-full bg-accent-gold hover:bg-accent-gold/80 text-background font-subhead\"\n            >\n              {isResending ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Sending...\n                </>\n              ) : (\n                <>\n                  <Mail className=\"mr-2 h-4 w-4\" />\n                  Send New Magic Link\n                </>\n              )}\n            </Button>\n            \n            <Button\n              variant=\"outline\"\n              onClick={() => navigate('/', { replace: true })}\n              className=\"w-full border-accent-purple/30 hover:bg-accent-purple/10\"\n            >\n              Back to Home\n            </Button>\n          </div>\n          \n          <div className=\"text-center\">\n            <p className=\"font-body text-xs text-muted-foreground\">\n              Magic links expire after 1 hour and can only be used once. \n              Email scanners sometimes \"use\" links automatically, causing them to expire.\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"names":["React.forwardRef","jsx","useState","useEffect","jsxs","Loader2","CheckCircle","AlertCircle","Fragment"],"mappings":"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","x_google_ignoreList":[0,1,2]}