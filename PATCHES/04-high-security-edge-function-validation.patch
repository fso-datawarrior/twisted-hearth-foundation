--- a/supabase/functions/send-rsvp-confirmation/index.ts
+++ b/supabase/functions/send-rsvp-confirmation/index.ts
@@ -1,4 +1,5 @@
 import { serve } from "https://deno.land/std@0.224.0/http/server.ts";
+import { z } from "https://deno.land/x/zod@v3.22.4/mod.ts";
 import { createClient } from "https://esm.sh/@supabase/supabase-js@2.39.3";
 
 interface AdditionalGuest {
@@ -8,6 +9,12 @@
 
 type Payload = { 
   rsvpId: string; 
   name: string; 
   email: string; 
   guests: number;
   isUpdate?: boolean;
   additionalGuests?: AdditionalGuest[];
 };
+
+const PayloadSchema = z.object({
+  rsvpId: z.string().uuid(),
+  name: z.string().min(1).max(100),
+  email: z.string().email(),
+  guests: z.number().int().min(1).max(8),
+  isUpdate: z.boolean().optional(),
+  additionalGuests: z.array(z.object({
+    name: z.string().min(1).max(100),
+    email: z.string().email().optional()
+  })).optional()
+});
