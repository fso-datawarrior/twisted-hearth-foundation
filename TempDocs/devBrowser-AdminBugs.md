[vite] connecting...
client:618 [vite] connected.
react-dom_client.js?v=3924cac9:20103 Download the React DevTools for a better development experience: https://react.dev/link/react-devtools
main.tsx:47 Service workers and caches cleared.
AdminContext.tsx:98 🔐 AdminContext: No user, resetting admin state
auth.tsx:32 🔐 AuthProvider: Initializing auth state...
AdminContext.tsx:98 🔐 AdminContext: No user, resetting admin state
auth.tsx:32 🔐 AuthProvider: Initializing auth state...
auth.tsx:54 🔐 AuthProvider: Got existing session {hasSession: true}
AdminContext.tsx:40 🔐 AdminContext: Checking admin status for user: data.warrior2023@gmail.com ID: 2170a261-676c-450f-84fb-15d230bdfc7e
AdminContext.tsx:43 🔐 AdminContext: Running ensure_admins_seeded...
auth.tsx:37 🔐 AuthProvider: Auth state changed {event: 'INITIAL_SESSION', hasSession: true}
AdminContext.tsx:40 🔐 AdminContext: Checking admin status for user: data.warrior2023@gmail.com ID: 2170a261-676c-450f-84fb-15d230bdfc7e
AdminContext.tsx:43 🔐 AdminContext: Running ensure_admins_seeded...
auth.tsx:54 🔐 AuthProvider: Got existing session {hasSession: true}
AdminContext.tsx:40 🔐 AdminContext: Checking admin status for user: data.warrior2023@gmail.com ID: 2170a261-676c-450f-84fb-15d230bdfc7e
AdminContext.tsx:43 🔐 AdminContext: Running ensure_admins_seeded...
AdminContext.tsx:48 ✅ AdminContext: Admin seeding completed
AdminContext.tsx:54 🔐 AdminContext: Hardcoded admin user detected, ensuring admin role... data.warrior2023@gmail.com
AdminContext.tsx:48 ✅ AdminContext: Admin seeding completed
AdminContext.tsx:54 🔐 AdminContext: Hardcoded admin user detected, ensuring admin role... data.warrior2023@gmail.com
AdminContext.tsx:48 ✅ AdminContext: Admin seeding completed
AdminContext.tsx:54 🔐 AdminContext: Hardcoded admin user detected, ensuring admin role... data.warrior2023@gmail.com
AdminContext.tsx:62 🔐 AdminContext: Emergency admin RPC failed: Could not find the function public.emergency_add_admin(admin_email) in the schema cache
AdminContext.tsx:69 🔐 AdminContext: Calling check_admin_status...
AdminContext.tsx:62 🔐 AdminContext: Emergency admin RPC failed: Could not find the function public.emergency_add_admin(admin_email) in the schema cache
AdminContext.tsx:69 🔐 AdminContext: Calling check_admin_status...
AdminContext.tsx:62 🔐 AdminContext: Emergency admin RPC failed: Could not find the function public.emergency_add_admin(admin_email) in the schema cache
AdminContext.tsx:69 🔐 AdminContext: Calling check_admin_status...
AdminContext.tsx:72 🔐 AdminContext: Admin check result: {isAdminResult: false, adminError: null}
AdminContext.tsx:75 🔐 AdminContext: Trying has_role function directly...
AdminContext.tsx:72 🔐 AdminContext: Admin check result: {isAdminResult: false, adminError: null}
AdminContext.tsx:75 🔐 AdminContext: Trying has_role function directly...
AdminContext.tsx:72 🔐 AdminContext: Admin check result: {isAdminResult: false, adminError: null}
AdminContext.tsx:75 🔐 AdminContext: Trying has_role function directly...
AdminContext.tsx:80 🔐 AdminContext: has_role result: {hasRoleResult: false, hasRoleError: null}
AdminContext.tsx:83 🔐 AdminContext: Checking user_roles table directly...
AdminContext.tsx:80 🔐 AdminContext: has_role result: {hasRoleResult: false, hasRoleError: null}
AdminContext.tsx:83 🔐 AdminContext: Checking user_roles table directly...
AdminContext.tsx:80 🔐 AdminContext: has_role result: {hasRoleResult: false, hasRoleError: null}
AdminContext.tsx:83 🔐 AdminContext: Checking user_roles table directly...
AdminContext.tsx:88 🔐 AdminContext: user_roles query result: {userRoles: Array(0), userRolesError: null}userRoles: Array(0)length: 0[[Prototype]]: Array(0)userRolesError: null[[Prototype]]: Objectconstructor: ƒ Object()hasOwnProperty: ƒ hasOwnProperty()isPrototypeOf: ƒ isPrototypeOf()propertyIsEnumerable: ƒ propertyIsEnumerable()toLocaleString: ƒ toLocaleString()toString: ƒ toString()valueOf: ƒ valueOf()__defineGetter__: ƒ __defineGetter__()__defineSetter__: ƒ __defineSetter__()__lookupGetter__: ƒ __lookupGetter__()__lookupSetter__: ƒ __lookupSetter__()__proto__: (...)get __proto__: ƒ __proto__()set __proto__: ƒ __proto__()
AdminContext.tsx:94 ❌ AdminContext: User is not admin or error occurred
AdminContext.tsx:88 🔐 AdminContext: user_roles query result: {userRoles: Array(0), userRolesError: null}userRoles: Array(0)length: 0[[Prototype]]: Array(0)userRolesError: null[[Prototype]]: Objectconstructor: ƒ Object()assign: ƒ assign()length: 2name: "assign"arguments: (...)caller: (...)[[Prototype]]: ƒ ()[[Scopes]]: Scopes[0]create: ƒ create()defineProperties: ƒ defineProperties()defineProperty: ƒ defineProperty()entries: ƒ entries()freeze: ƒ freeze()fromEntries: ƒ fromEntries()getOwnPropertyDescriptor: ƒ getOwnPropertyDescriptor()getOwnPropertyDescriptors: ƒ getOwnPropertyDescriptors()getOwnPropertyNames: ƒ getOwnPropertyNames()getOwnPropertySymbols: ƒ getOwnPropertySymbols()getPrototypeOf: ƒ getPrototypeOf()groupBy: ƒ groupBy()hasOwn: ƒ hasOwn()is: ƒ is()isExtensible: ƒ isExtensible()isFrozen: ƒ isFrozen()isSealed: ƒ isSealed()keys: ƒ keys()length: 1name: "Object"preventExtensions: ƒ preventExtensions()prototype: {__defineGetter__: ƒ, __defineSetter__: ƒ, hasOwnProperty: ƒ, __lookupGetter__: ƒ, __lookupSetter__: ƒ, …}seal: ƒ seal()setPrototypeOf: ƒ setPrototypeOf()values: ƒ values()arguments: (...)caller: (...)[[Prototype]]: ƒ ()[[Scopes]]: Scopes[0]hasOwnProperty: ƒ hasOwnProperty()isPrototypeOf: ƒ isPrototypeOf()propertyIsEnumerable: ƒ propertyIsEnumerable()toLocaleString: ƒ toLocaleString()toString: ƒ toString()valueOf: ƒ valueOf()__defineGetter__: ƒ __defineGetter__()__defineSetter__: ƒ __defineSetter__()__lookupGetter__: ƒ __lookupGetter__()__lookupSetter__: ƒ __lookupSetter__()__proto__: (...)get __proto__: ƒ __proto__()set __proto__: ƒ __proto__()
AdminContext.tsx:94 ❌ AdminContext: User is not admin or error occurred
AdminContext.tsx:88 🔐 AdminContext: user_roles query result: {userRoles: Array(0), userRolesError: null}userRoles: Array(0)length: 0[[Prototype]]: Array(0)at: ƒ at()concat: ƒ concat()constructor: ƒ Array()copyWithin: ƒ copyWithin()entries: ƒ entries()length: 0name: "entries"arguments: (...)caller: (...)[[Prototype]]: ƒ ()[[Scopes]]: Scopes[0]every: ƒ every()fill: ƒ fill()filter: ƒ filter()find: ƒ find()findIndex: ƒ findIndex()findLast: ƒ findLast()findLastIndex: ƒ findLastIndex()flat: ƒ flat()flatMap: ƒ flatMap()forEach: ƒ forEach()includes: ƒ includes()indexOf: ƒ indexOf()join: ƒ join()keys: ƒ keys()lastIndexOf: ƒ lastIndexOf()length: 0map: ƒ map()pop: ƒ pop()push: ƒ push()reduce: ƒ reduce()reduceRight: ƒ reduceRight()reverse: ƒ reverse()shift: ƒ shift()slice: ƒ slice()some: ƒ some()sort: ƒ sort()splice: ƒ splice()toLocaleString: ƒ toLocaleString()toReversed: ƒ toReversed()toSorted: ƒ toSorted()toSpliced: ƒ toSpliced()toString: ƒ toString()unshift: ƒ unshift()values: ƒ values()with: ƒ with()Symbol(Symbol.iterator): ƒ values()Symbol(Symbol.unscopables): {at: true, copyWithin: true, entries: true, fill: true, find: true, …}[[Prototype]]: ObjectuserRolesError: null[[Prototype]]: Objectconstructor: ƒ Object()assign: ƒ assign()create: ƒ create()defineProperties: ƒ defineProperties()defineProperty: ƒ defineProperty()entries: ƒ entries()freeze: ƒ freeze()fromEntries: ƒ fromEntries()getOwnPropertyDescriptor: ƒ getOwnPropertyDescriptor()getOwnPropertyDescriptors: ƒ getOwnPropertyDescriptors()getOwnPropertyNames: ƒ getOwnPropertyNames()getOwnPropertySymbols: ƒ getOwnPropertySymbols()getPrototypeOf: ƒ getPrototypeOf()groupBy: ƒ groupBy()hasOwn: ƒ hasOwn()is: ƒ is()isExtensible: ƒ isExtensible()isFrozen: ƒ isFrozen()isSealed: ƒ isSealed()keys: ƒ keys()length: 1name: "Object"preventExtensions: ƒ preventExtensions()prototype: {__defineGetter__: ƒ, __defineSetter__: ƒ, hasOwnProperty: ƒ, __lookupGetter__: ƒ, __lookupSetter__: ƒ, …}seal: ƒ seal()setPrototypeOf: ƒ setPrototypeOf()values: ƒ values()arguments: (...)caller: (...)[[Prototype]]: ƒ ()[[Scopes]]: Scopes[0]hasOwnProperty: ƒ hasOwnProperty()isPrototypeOf: ƒ isPrototypeOf()propertyIsEnumerable: ƒ propertyIsEnumerable()toLocaleString: ƒ toLocaleString()toString: ƒ toString()valueOf: ƒ valueOf()__defineGetter__: ƒ __defineGetter__()__defineSetter__: ƒ __defineSetter__()__lookupGetter__: ƒ __lookupGetter__()__lookupSetter__: ƒ __lookupSetter__()__proto__: (...)get __proto__: ƒ __proto__()length: 0name: "get __proto__"arguments: (...)caller: (...)[[Prototype]]: ƒ ()[[Scopes]]: Scopes[0]set __proto__: ƒ __proto__()length: 1name: "set __proto__"arguments: (...)caller: (...)[[Prototype]]: ƒ ()[[Scopes]]: Scopes[0]
AdminContext.tsx:94 ❌ AdminContext: User is not admin or error occurred